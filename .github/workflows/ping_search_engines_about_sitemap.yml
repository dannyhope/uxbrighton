# Name of this workflow
name: Ping Google & Yandex About Updated Sitemap

# Controls when the action will run:
on:
  # Triggers the workflow on push events, only on the master branch, and only
  # if sitemap.xml was updated:
  push:
    # If your primary ("production") branch is "main" (or anything else) instead
    # of "master" you will need to update this line:
    branches: [ gh-pages ]
    # production / rendered sitemap.xml in your GitHub repo:
    paths:
      - https://uxbri.org/sitemap.xml

  # This allows you to run this workflow manually from the Actions tab in your
  # GitHub repo:
  workflow_dispatch:

# A workflow run is made up of one or more jobs that can run sequentially or in
# parallel:
jobs:
  # This workflow contains a single job called "ping" (the ID for this job):
  ping:
    # Again this can be whatever name you like:
    name: Ping Google
    # The type of runner that the job will run on:
    runs-on: ubuntu-latest

    # Steps represent a sequence of tasks that will be executed as part of the
    # job:
    steps:
      # Runs a single command using the runners shell:
      - name: Send HTTP GET request to Google
        run: curl https://www.google.com/ping?sitemap=https://uxbri.org/sitemap.xml
  # This workflow contains a single job called "ping" (the ID for this job):
  # ping:
  #   # Again this can be whatever name you like:
  #   name: Ping Yandex
  #   # The type of runner that the job will run on:
  #   runs-on: ubuntu-latest

  #   # Steps represent a sequence of tasks that will be executed as part of the
  #   # job:
  #   steps:
  #     # Runs a single command using the runners shell:
  #     - name: Send HTTP GET request to Yandex
  #       run: curl https://webmaster.yandex.ru/ping?sitemap=https://uxbri.org/sitemap.xml
